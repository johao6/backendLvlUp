/*package com.levelup.backend.config;

import com.levelup.backend.repositories.UsuarioRepository;
import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.crypto.password.PasswordEncoder;

@Configuration
public class PasswordFixed {

    @Bean
    CommandLineRunner fixPasswords(UsuarioRepository usuarioRepository, PasswordEncoder passwordEncoder) {
        return args -> {
            System.out.println("üîß Verificando contrase√±as...");

            usuarioRepository.findAll().forEach(usuario -> {
                String password = usuario.getPassword();

                // Si la contrase√±a no empieza con $2a$, no est√° encriptada con BCrypt
                if (password != null && !password.startsWith("$2a$")) {
                    System.out.println("‚ö†Ô∏è  Contrase√±a sin encriptar encontrada: " + usuario.getEmail());

                    // Encriptar la contrase√±a
                    String encryptedPassword = passwordEncoder.encode(password);
                    usuario.setPassword(encryptedPassword);
                    usuarioRepository.save(usuario);

                    System.out.println("‚úÖ Contrase√±a encriptada para: " + usuario.getEmail());
                }
            });

            System.out.println("‚úÖ Proceso de encriptaci√≥n completado");
        };
    }

}*/
